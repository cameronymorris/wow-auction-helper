<div class="panel panel-default">
	<div class="panel-heading">
		<h2 class="panel-title">Crafting</h2>
	</div>
	<div class="panel-body">
		<table class="table table-striped">
			<tr class="row">
				<th>Name</th>
				<th>Materials</th>
				<th>Cost</th>
				<th>Buyout</th>
				<th>Profit</th>
				<th>avg Posted/Sold</th>
				<th>Demand</th>
			</tr>
			<!-- TODO: optimize price value fetch -->
			<tr class="row" *ngFor="let craft of crafts | slice:(currentPage - 1)*limit : ((currentPage - 1)*limit) + limit ;">
				<td>
					<div>
						<div class="align-left col-md-offset-1">
							<a rel="item={{ getItem(craft.itemID).id }}" href="https://eu.battle.net/wow/en/vault/character/auction/browse?reverse=false&sort=unitBuyout&itemId={getItem(craft.itemID).id}}"
								target="_blank">{{ getItem(craft.itemID).name }}</a>
						</div>
					</div>
				</td>
				<td>
					<div class="clearfix" *ngFor="let m of craft.reagents">
							{{ m.count }} x {{getItem(m.itemID).name}} {{getMinPrice(m.itemID)}}
					</div>
				</td>
				<td>
					{{ goldConversion(craft.cost) }}
				</td>
				<td>
					{{ goldConversion(craft.buyout) }}
				</td>
				<td>
					{{ goldConversion(craft.profit) }}
				</td>
				<td>
					{{ getItem(craft.itemID).avgDailyPosted }} <br> {{ getItem(craft.itemID).avgDailySold }}
				</td>
				<td>
					{{ getItem(craft.itemID).estDemand }}%
				</td>
			</tr>
		</table>
		<div class="pager">
			<button class="btn btn-default glyphicon glyphicon-arrow-left" (click)="changePage(-1)"></button>
			<input style="width:5em;" type="number" min="1" [(ngModel)]="currentPage" /> of {{ numOfPages }}
			<button class="btn btn-default glyphicon glyphicon-arrow-right" (click)="changePage(1)"></button>
		</div>
	</div>
</div>
